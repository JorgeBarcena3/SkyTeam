<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SkyTeam - Cooperative Landing Game</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
  <div id="app">
    <header class="game-header">
      <h1>üõ¨ SkyTeam</h1>
      <p class="subtitle">Desaf√≠o de Aterrizaje Cooperativo</p>
      <button id="tutorial-btn" class="btn-tutorial-header">üìñ Tutorial</button>
    </header>

    <div class="game-container">
      <!-- Game Status -->
      <div class="game-status">
        <div class="status-item">
          <span class="label">Ronda:</span>
          <span id="round-number" class="value">1</span>
        </div>
        <div class="status-item">
          <span class="label">Turno Actual:</span>
          <span id="current-player" class="value">Piloto</span>
        </div>
        <div class="status-item approach-display">
          <span class="label">Distancia al Aeropuerto:</span>
          <span id="approach-distance" class="value">7</span>
        </div>
      </div>

      <!-- Speed Table Dynamic -->
      <div class="speed-table">
        <h3>üìä Tabla de Velocidad</h3>
        <div class="speed-grid-dynamic">
          <span class="value-badge" data-value="1" style="order: 1">1</span>
          <span class="value-badge" data-value="2" style="order: 2">2</span>
          <span class="value-badge" data-value="3" style="order: 3">3</span>
          
          <div class="speed-indicator" id="min-indicator" style="order: 4">
            <span class="indicator-label">MIN</span>
          </div>
          
          <span class="value-badge" data-value="4" style="order: 5">4</span>
          <span class="value-badge" data-value="5" style="order: 6">5</span>
          <span class="value-badge" data-value="6" style="order: 7">6</span>
          <span class="value-badge" data-value="7" style="order: 8">7</span>
          <span class="value-badge" data-value="8" style="order: 9">8</span>
          <span class="value-badge" data-value="9" style="order: 10">9</span>
          
          <div class="speed-indicator" id="max-indicator" style="order: 11">
            <span class="indicator-label">MAX</span>
          </div>
          
          <span class="value-badge" data-value="10" style="order: 12">10</span>
          <span class="value-badge" data-value="11" style="order: 13">11</span>
          <span class="value-badge" data-value="12" style="order: 14">12</span>
        </div>
        <div id="current-speed" class="current-speed-display">Velocidad: --</div>
      </div>

      <!-- Main Game Board -->
      <div class="cockpit-board">
        <!-- Plane Orientation Indicator -->
        <div class="plane-orientation">
          <div class="orientation-label">Orientaci√≥n del Avi√≥n</div>
          <div class="orientation-display">
            <div class="orientation-marker left">L3</div>
            <div class="orientation-marker left">L2</div>
            <div class="orientation-marker left">L1</div>
            <div id="plane-indicator" class="orientation-marker center active">‚¨§</div>
            <div class="orientation-marker right">R1</div>
            <div class="orientation-marker right">R2</div>
            <div class="orientation-marker right">R3</div>
          </div>
        </div>

        <!-- Control Panel -->
        <div class="control-panel">
          <!-- Axis Control (Mandatory) -->
          <div class="control-section mandatory" data-player="shared">
            <h3>‚öñÔ∏è Eje (Nivelaci√≥n)</h3>
            <div class="control-slots">
              <div class="dice-slot pilot-slot" data-control="axis" data-player="pilot">
                <span class="slot-label">Piloto</span>
              </div>
              <div class="dice-slot copilot-slot" data-control="axis" data-player="copilot">
                <span class="slot-label">Copiloto</span>
              </div>
            </div>
            <p class="control-hint">Obligatorio: Ambos jugadores deben colocar dados aqu√≠</p>
          </div>

          <!-- Engines Control (Mandatory) -->
          <div class="control-section mandatory" data-player="shared">
            <h3>üöÄ Motores (Velocidad)</h3>
            <div class="control-slots">
              <div class="dice-slot pilot-slot" data-control="engines" data-player="pilot">
                <span class="slot-label">Piloto</span>
              </div>
              <div class="dice-slot copilot-slot" data-control="engines" data-player="copilot">
                <span class="slot-label">Copiloto</span>
              </div>
            </div>
            <p class="control-hint">Obligatorio: Controla la velocidad de aproximaci√≥n</p>
          </div>

          <!-- Landing Gear (Pilot) -->
          <div class="control-section" data-player="pilot">
            <h3>üõû Tren de Aterrizaje</h3>
            <div class="deployment-track" id="landing-gear-track">
              <div class="deployment-slot" data-required="1-2">1-2</div>
              <div class="deployment-slot" data-required="3-4">3-4</div>
              <div class="deployment-slot" data-required="5-6">5-6</div>
            </div>
            <p class="control-hint">Solo Piloto: Despliega con 3 dados</p>
          </div>

          <!-- Flaps (Co-Pilot) -->
          <div class="control-section" data-player="copilot">
            <h3>ü™Ç Flaps</h3>
            <div class="deployment-track" id="flaps-track">
              <div class="deployment-slot" data-required="1-2">1-2</div>
              <div class="deployment-slot" data-required="3-4">3-4</div>
              <div class="deployment-slot" data-required="5-6">5-6</div>
            </div>
            <p class="control-hint">Solo Copiloto: Despliega con 3 dados</p>
          </div>

          <!-- Coffee/Concentration (Shared Pool) -->
          <div class="control-section coffee-section">
            <h3>‚òï Concentraci√≥n (Caf√©s Compartidos)</h3>
            <div class="coffee-display-shared">
              <div class="coffee-pool">
                <span class="coffee-label">Caf√©s Disponibles:</span>
                <div id="shared-coffee" class="coffee-icons-shared"></div>
                <span id="coffee-count" class="coffee-counter">0/3</span>
              </div>
            </div>
            <div class="coffee-actions">
              <div class="coffee-maker-container">
                <div class="dice-slot coffee-slot" id="make-coffee-slot">
                  <span class="slot-label">Descartar Dado</span>
                </div>
                <span class="coffee-arrow">‚û°Ô∏è</span>
                <span class="coffee-cup">‚òï</span>
              </div>
              <div class="coffee-buttons">
                <button id="drink-coffee-btn" class="btn btn-coffee">Tomar Caf√© (Ganar Relanzar)</button>
              </div>
              <div class="reroll-container">
                <div class="dice-slot reroll-slot" id="reroll-slot">
                  <span class="slot-label">Arrastra Dado para Relanzar</span>
                </div>
              </div>
            </div>
            <p class="control-hint">Arrastra un dado para hacer caf√© (m√°x 3). Toma caf√©, luego arrastra un dado para relanzarlo.</p>
          </div>

          <!-- Radio/Air Traffic Control -->
          <div class="control-section radio-section" data-player="shared">
            <h3>üìª Radio</h3>
            <div class="radio-track" id="radio-track">
              <div class="radio-slot" data-required="2">
                <span class="plane-icon">‚úàÔ∏è</span>
                <span class="required-value">2</span>
              </div>
              <div class="radio-slot" data-required="4">
                <span class="plane-icon">‚úàÔ∏è</span>
                <span class="required-value">4</span>
              </div>
              <div class="radio-slot" data-required="6">
                <span class="plane-icon">‚úàÔ∏è</span>
                <span class="required-value">6</span>
              </div>
            </div>
            <p class="control-hint">Despeja aviones colocando dados con valor exacto</p>
          </div>

          <!-- Brakes (Pilot) -->
          <div class="control-section" data-player="pilot">
            <h3>üõë Frenos</h3>
            <div class="control-slots">
              <div class="dice-slot pilot-slot" data-control="brakes" data-player="pilot">
                <span class="slot-label">Cualquier Valor</span>
              </div>
            </div>
            <p class="control-hint">Solo Piloto: Usar despu√©s de aterrizar</p>
          </div>
        </div>
      </div>

      <!-- Player Areas -->
      <div class="players-area">
        <!-- Pilot -->
        <div class="player-section pilot">
          <h2>üë®‚Äç‚úàÔ∏è Piloto (Azul)</h2>
          <div id="pilot-dice" class="dice-container"></div>
        </div>

        <!-- Co-Pilot -->
        <div class="player-section copilot">
          <h2>üë®‚Äç‚úàÔ∏è Copiloto (Naranja)</h2>
          <div id="copilot-dice" class="dice-container"></div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="action-buttons">
        <button id="new-round-btn" class="btn btn-primary">Iniciar Nueva Ronda</button>
        <button id="reset-game-btn" class="btn btn-secondary">Reiniciar Juego</button>
      </div>

      <!-- Messages -->
      <div id="message-area" class="message-area"></div>
    </div>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>
</html>
